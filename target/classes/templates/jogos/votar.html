<!DOCTYPE html>
<html lang="pt-BR" layout:decorate="~{layout/layoutpadrao}" xmlns:th="http://www.thymeleaf.org"
 xmlns:layout="http://www.thymeleaf.org">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
 <title>Votação</title>
</head>

<body>
 <div layout:fragment="conteudo">

  <div th:replace="~{layout/fragments/sidebar :: sidebar(opcao='jogos')}"></div>

  <!-- conteudo principal -->
  <main class="mt-5 p-4 pt-5">
   <div class="container-fluid">
    <table class="table table-striped table-hover">
      <tr>
        <div
          th:replace="~{layout/fragments/paginacao :: coluna(${pagina}, 'codigo', 'Código', 'w-25')}">
        </div>
        <div th:replace="~{layout/fragments/paginacao :: coluna(${pagina}, 'nome', 'Nome', '')}"></div>
        <th scope="col">Descrição</th>
        <th scope="col">Votos</th>
        <th scope="col">Votação</th>
      </tr>

      <tr th:each="jogo : ${pagina.conteudo}">
        <td th:text="${jogo.codigo}"></td>
        <td th:text="${jogo.nome}"></td>
        <td th:text="${jogo.descricao}"></td>
        <td th:text="${jogo.quantidadeVotos != null ? jogo.quantidadeVotos : '0'}"></td>
        <td class="d-flex justify-content-start ">
    
          <form th:action="@{/jogos/votar}" method="POST">
            <input type="hidden" name="codigo" th:value="${jogo.codigo}">
            <button type="submit" class="btn btn-warning">
              Votar <i class="bi bi-star"></i>
            </button>
          </form>
        </td>
      </tr>
    

    </table>

   </div>
  </main>

 </div>

</body>

</html>